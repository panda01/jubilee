<!DOCTYPE html>
<html>
<head>
  <title></title>
</head>
<body>
  <style>
    body {
      font: 10px sans-serif;
    }

    .axis path,
    .axis line {
      fill: none;
      stroke: #000;
      shape-rendering: crispEdges;
    }
  </style>

  <div id="chart"></div>

  <script data-main="../../src/require.config.js"
          src="../../../node_modules/requirejs/require.js"></script>
  <script>
    require(["../../src/index"], function (jubilee) {
      var data = {
        series: [
          [
            { x: 1411761450000, y: 41, label: "band"},
            { x: 1411761480000, y: 18, label: "band"},
            { x: 1411761510000, y: 20, label: "band"},
            { x: 1411761540000, y: 17, label: "band"},
            { x: 1411761570000, y: 17, label: "band"}
          ],
          [
            { x: 1411761450000, y: 91, label: "of"},
            { x: 1411761480000, y: 88, label: "of"},
            { x: 1411761510000, y: 100, label: "of"},
            { x: 1411761540000, y: 47, label: "of"},
            { x: 1411761570000, y: 57, label: "of"}
          ],
          [
            { x: 1411761450000, y: 191, label: "brothers"},
            { x: 1411761480000, y: 188, label: "brothers"},
            { x: 1411761510000, y: 105, label: "brothers"},
            { x: 1411761540000, y: 147, label: "brothers"},
            { x: 1411761570000, y: 157, label: "brothers"}
          ],
          [
            { x: 1411761450000, y: -201, label: "yes"},
            { x: 1411761480000, y: -198, label: "yes"},
            { x: 1411761510000, y: -232, label: "yes"},
            { x: 1411761540000, y: -547, label: "yes"},
            { x: 1411761570000, y: -357, label: "yes"}
          ]
        ]
      };

      var color = d3.scale.category10(["band", "of", "brothers", "yes"]);
      function handleMouseEvt(evt, data, idx) {
        debugger;
        console.log(data);
      }

      var myChart = jubilee.chart.line()
        .height(500)
        .yScale({ nice: true })
        .lines({
          stroke: function (d) { return color(d[0].label); },
          interpolate: "cardinal",
        })
        .circles({
          show: true,
          fill: function (d) { return color(d.label); },
          opacity: 0
        })
        .on('mousemove', handleMouseEvt);

      var selection = d3.select("#chart");
      selection.datum(data.series).call(myChart);
  });
  </script>
</body>
</html>
