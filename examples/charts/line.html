<!DOCTYPE html>
<html>
<head>
  <title></title>
</head>
<body>
  <style>
    body {
      font: 10px sans-serif;
    }

    .axis path,
    .axis line {
      fill: none;
      stroke: #000;
      shape-rendering: crispEdges;
    }
  </style>

  <div id="chart"></div>

  <script data-main="../../src/require.config.js"
          src="../../../node_modules/requirejs/require.js"></script>
  <script>
    require(["../../src/index"], function (jubilee) {
      var data = (function() {
        function sample() { return Math.round(Math.random() * 1000) - 500; };
        function makeDataSet(label) {
          var count = 10;
          var millisUntilNext = 1000*60;
          var date = (new Date()).getTime();
          var data = [];
          for(var i = 0; i < count; ++i) {
            data.push({
              x: date - (i*millisUntilNext),
              y: sample(),
              label: label
            });
          }
          return data;
        }
        var data = ('band of brothers yes').split(' ').map(makeDataSet);
        return { series: data };
      }());

      var color = d3.scale.category10(["band", "of", "brothers", "yes"]);

      var myChart = jubilee.chart.line()
        .height(500)
        .yScale({ nice: true })
        .lines({
          stroke: function (d) { return color(d[0].label); },
          interpolate: "cardinal",
        })
        .circles({
          show: true,
          fill: function (d) { return color(d.label); },
        })
        .on("click", function (e) {
          console.log(e);
        })
        .on("mouseenter", function(e, d, i) {
          console.log(e.type);
          console.log(e);
          console.log(d);
        })
        .on("mousemover", function(e, d, i) {
          console.log(e.type);
          console.log(e);
          console.log(d);
        })
        .on("mouseleave", function(e, d, i) {
          console.log(e.type);
          console.log(e);
          console.log(d);
        });

      var selection = d3.select("#chart");
      selection.datum(data.series).call(myChart);
  });
  </script>
</body>
</html>
